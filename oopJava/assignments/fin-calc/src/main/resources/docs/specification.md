# Консольное приложение для управления банковскими счетами

реализующее операции:
- открытие счета
- пополнение счета
- снятие со счета
- перевод со счета на счет
- проверка баланса счета
- закрытие счета


## CLI
- Ответы содержат:
  - `ok [сообщение]` - успех,
  - `err [сообщение]` - ошибка
- Общий синтаксис команд и ответов
  - комада [аргумент1 [аргумент2 [...]]
  - команда и аргументы разделяются пробелами
  - ok [сообщение]
  - err [сообщение]
- Аргументы разделяются **одиночными пробелами**
- Суммы (amount, balance) - числа с плавающей точкой, представленные как BigDecimal

## Поддерживаемые команды и формат аргументов


```
open                                          -> создать новый счет (возвращает номер)
closeAccount <номер_счета>                           -> закрыть счет
deposit <номер_счета> <сумма>                 -> пополнить счет
withdraw <номер_счета> <сумма>                -> снять со счета
transfer <номер_счета> <номер_счета> <сумма>  -> перевести со счета на счет
balance <номер_счета>                         -> посмотреть баланс
list                                          -> вывести список всех открытых счетов
```

## Обработка ошибок
- `not found` - счет не существует
- `not enough funds` - недостаточно средств для снятия
- `invalid input` - некорректный ввод

## Тестирование
- Тесты пишутся **применительно к классу `BankAccountSystem`**
- CLI-ввод не тестируется
- Тесты должны **покрывать все требования первого комплекта**:
  - открытие,
  - пополнение,
  - снятие,
  - баланс,
  - закрытие

## Пример взаимодействия с приложением

```shell
> # закрытие счета -> счета не существует -> ошибка
> closeAccount 12
<err account not found

> # открытие счета -> счета не существует -> успех
> open
<ok 12

> # пополнение счета - id=12, +34 руб -> счет существует -> успех
> deposit 12 34
<ok

> # снятие - счет id=12, -43 руб -> недостаточно средств -> ошибка
> withdrawal 12 43
<err not enough funds

> # снятие - счет id=12, -31 руб -> достаточно средств -> успех
> withdrawal 12 31
<ok
```

## сделать парсер команд фин операция

## передать несколько команд одним исходником
Проверь что в парсер ты можешь передать несколько команд одним исходником (String) и получить список команд, в виде List<Command>
Если все так, тогда твоя задача реализовать выполнение команд

## реализовать выполнение команд
У тебя должен быть некий объект, который
1) хранит все состояние системы, все счета и прочее.
2) принимает команду и интерпретирует ее
   Либо выполняет, если она допустима
   Либо отвергает ее
   В обоих случаях выдается ответ -результат интерпретации
   Ответ может иметь следующие характеристики, по мимо информационных
   А) Успешно/ошибка
   Б) Изменилось ли состояние, или нет.

### Цель - разобраться в ООП, в части типов и подтипов
А) продемонстрировать владением полиморфизмом - наследование и переопределение  override виртуальных методов

Вариант А - расписан во всех учебниках ООП

Б) продемонстрировать владение запечатанными типами и сопоставление pattern matching для под типпов. Этот вариант контр к А.
Можещь его применить не к поступающим командам, а например к ответам на команды.
Можно ответы сопоставлять (pattern match) в тестах

В) описать разницу подходов А и Б.

## Контрольные вопросы

1. Все ли команды проходят парсинг?

2. Если я захочу отправить исходник с командами, они будут выполнены?

3. Есть ли результат выполнения команд ?

4. Команды меняют состояние системы ожидаемо или нет ?

5. Есть в коде примеры полиморфизма

6. Есть в коде пример алгебрарических типов (sealed interfaces + record) и pattern matching по типам
