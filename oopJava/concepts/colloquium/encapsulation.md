# Инкапсуляция, private, protected... какая польза и как тестировать инкапсулированное поведение

инкапсуляция - механизм гарантии соблюдения требований к состоянию и поведению объектов

## проблема 1 - безопасность состояния
защита от изменения данных внешним кодом

механизм решения - скрыть поля -> запретить чтение и запись напрямую
в java доступ к полям управляется инструкциями уравней доступа public, private, package-private, protected

чтение и запись выполнять методами, объявленными в интерфейсе

кто, откуда, как обращается к данным - если доступ открыт - дорого разбираться


## проблема 2 - управляемость кодом

изменение требований -> экспоненциальный рост точек отказа

если есть 100500 методов в 100 модулях, которые работают с состоянием, то при изиенении требований,
например, множество значений поля (были все int, стали только >0), придется изменять логику 100500 методов в 100 модулях
ошибка в этой работе неизбежна, будет нежданный косяк

## проблема 3 - однозначность использования

определить поля и методы таким образом, чтобы не допустить обращения с классом "не по инструкции"

## проблема 4 - надежность кода, ответственность программиста

надежность/хрупкость
поскольку доступ разрешен только в специальных методах, 
в этих методах программист проверяет требования, логика защищена
программисту легче контролировать данные
