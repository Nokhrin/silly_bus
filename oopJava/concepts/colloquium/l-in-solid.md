# Объяснить из SOLID букву L

контекст 
solid декларирует 5 принципов ООП - подходы к проектированию программ, зарекомендовавшие себя на практике

s
srp принцип единой ответственности - логическая единица кода - класс, метод (функция) - имеет одну поставленную задачу и решает только ее

o


i
inversion

d


буква L
LSP - liskov substitution principle
принцип определяет условие, при котором тип может считаться подтипом другого типа

если тип s является подтипом t, то объекты типа s должны быть взаимозаменяемы с типом t без нарушения корректности программы
взаимозаменяемость гарантируется правилом - если свойство выполняется для объекта типа t, оно должно так же выполняться для объекта s

или объект дочернего типа может быть применен в легитимных контекстах, ожидающих тип родителя T
легитимны - вызов метода T, передача в функцию, принимающую T, использование в функции оанльном интерфейсе, хранение в коллекции<T>

LSP устанавливает правила поведения, контракт:
- дочерний тип не добавляет условий на входе - требования не становятся строже
- дочерний тип не элиминирует значений на выходе - гарантии данные родителем, представлены в полном объеме
- инвариант внутреннего состояния - логика и структура не изменяется
- исключения не расширяются - дочерний не добавляет перехватов к родительским перехватам

LSP нужен для расширения иерархии типов
разделяетт наследование и подтипизацию

бытовая аналогия
есть светильник с патроном g4, для галогеновой лампы, на который подано 220В - это интерфейс C
существуют лампы типа А на 12В и типа B на 220В

по разъему А и В наследуют С
A extends C
типы совместимы синтаксически
при этом А нарушает LSp - несовместимы поведенчески, так как не дает ожидаемого поведения - перегорает , когда ожидается что светит


предусловие усилено - создано требование к напряжению 
нарушено постусловие - перегорает вместо светит 


проблема - смешивание механической и электрической совместимости

проблема решается разделением ортогональных поведений
интерфейс разъема
интерфейс напряжения 12 в




индуктивно - если наследник отвечает LSP, то он может быть подтипом родителя



вопррсы
square extends rectangle - при любых условиях нарушает lsp?
square extends rectangle проходит проверку компилятора, но в чем тогда проблема?