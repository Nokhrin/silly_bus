# Базовые основы ООП

## Учебные цели

## темы

1. Классы
   ◦ Данные
   ◦ Конструкторы и методы
2. Инкапсуляция
   ◦ public, private, protected
3. Наследование. Полиморфизм
   ◦ Согласованность инкапсуляции с наследованием
   ◦ Частичный доступ protected, default
   ◦ интерфейсы
   ◦ Под-типизация (Sub typing)
   ▪ instance of
   ▪ pattern matching (switch)
   ◦ Не предвиденное поведение из-за наследования
   ▪ Нарушение equals / hashcode
   ◦ Ограничение наследования
   ▪ final (record /classes)
   ▪ sealed
   • pattern matching

## задачи
1) должны быть сформированы понятия о типах в контексте JAVA, не фундаментально, хотя бы приблеженно
2) разобраться
   а) Что такое интерфейс, отличие от класса
   б) класса от абстрактного класса
   в) абстрактного класса от интерфейса
   г) отличие интерфейсов версии java 7 и более ранних от текущей java 17+
3) разобраться с наследованием
   а) наследование класса от класса
   б) класса от абстрактного класса
   в) абстрактного класса от класса
   г) класса от интерфейса
   в) класса от интерфейсов
   д) класса от класса и интерфейсов
   е) ограничение наследования через final
   ж) ограничение наследования через sealed
   з) ограничение наследования через sealed для интерфейсов
   и) обход ограничения наследования sealed, через non-sealed
4) разобраться как наследование работает с модификаторами доступа (public, protected, private, default) применительно к методам, полям, классов и интерфейсов
5) попытаться найти объяснение почему не наследуются поля в контексте интерфейсов
6) сформулировать принципиальное отличия статической типизации от динамической - сравнить с python
- выдать перечень когда статическая типизация хорошо, когда плохо


---

## Стартовая теория

там задачи ООП вполне определенные
но прям кидаться без понимания не надо
надо разбратся

1) создание классов
2) наследование и виртуальные методы / полиморфизм
3) интерфейсы / полиморфизм
4) ограничение наследования + pattern matching

Практические части будут направлены на освоение этих тем.

---

# Практика

В качестве практики будет взята предметная область и запрограммировано приложение.

## Что должна делать программа

Программа для управления банковскими счетами

## Основные сущности:

### Счет

- это уникальная запись которая отображает кол - во денег

Операции со счетом
• Пополнение
◦ нельзя пополнить счет суммой 0 или меньше
• Снятие
◦ нельзя снять денег, больше чем есть на балансе
◦ снятие денег возможно при положительном балансе

• Перевод - с одного счета, другому
◦ Равнозначно операциям снятия и пополнения

• Дополнительные операции
◦ Заем/Кредит
◦ Списание процентов по кредиту
◦ Просрочка

Дабы не усложнять логику все операции и сущности связанные с кредитованием
сократим до

---
Со счетом (не владельцем счета, а именно со счетом)
может быть связано 0 или более кредитов.

Для одного счета есть лимит суммы всех активных кредитов, открыть новый кредит нельзя.

Кредит может быть в двух состояниях:
• Активен (начальное) -средства со счета банка выделены на счет владельца
• Закрыт (конечное) -средства переведены со счета владельца на счет банка

---

# Проектирование


### диаграммы

• ER сущностей

- вычитать постановку,
- найти сущности в тексте и какие есть между ними операции,
- нарисовать отношения в виде диаграммы
  • Диаграмму состояний и/или диаграмму последовательности
  ◦ определить для каждой операции какие сущности учавствуют
  ◦ Как и в какой последовательности меняются
  ◦ Определить (не) допустимость операций - т.е. проверки и отобразить на диаграмме
  • Операций должно быть 4, но сначала сделать 3 - надо для учебной задачи
  ◦ Пополнение, Снятие, Перевод
  ◦ Кредиты (допустим требование о них появилось во втором релизе)
  ◦ То есть должно быть 2 комплекта диаграмм

[ER-диаграмма](terms-financial-entities.md)

---

# Кодирование
---

### Кодирование 1 - class

• Реализовать для операций классы - первый комплект (и другие сопутствующие классы)
◦ В конструкторе ничего не проверям
◦ Добавлен метод валидации где он просто возвращает факт наличия ошибки
Условно для тестирования будет такое взаимодействие:
Система находится в начальном состоянии (все данные необходимые для работы программы)

1. На вход подается команда ввиде строки
2. система определят команду и меняет свое состояние если это допустимо или отвергает команду и не менят состояние
3. В любом случае реакция системы должна быть и она выдается ввиде строки
   Пример команд:

> open
<ok 12
> команда открытия счета и ответ - успешно и номер счета
> close 12
<err not found
> команда закрытия счета и ошибка
> deposit 12 34
<ok
> пополнение счета N 12 на 34 руб
> withdrawal 12 43
< err Не достаточно средств (по англ.)
> Снятие со счета 43 рублей
> withdrawal 12 31
<ok
> Сияние успешино, т.к. на счете было 34 рубля
> и т.д.
> Общий синтаксис команд и ответов
> комада [аргумент1 [аргумент2 [...]]
> команда может иметь несколько аргументов, агрументы отбеляются пробелами
> ok [сообщение]err [сообщение]
> Ответ может иметь сообщение, так же пробел используетсяОтвет может быть положительным или отрицательным
> Всю „систему" лучше представить неким классом, который будем тестировать.
> Тесты пишем применительно к „системе"Тесты должны покрывать требования первого комплекта
> Возможно будут проблемы при кодировании из за разных операций - в части наследования они должны будут решены. Если
> возникнет и это будет мешать тестированию - то оставить тестирования и идти дальше
> Продумать систему команд что бы удобно было тестировать -добавить команды такие как: просмотр счетов, балансов,...
