# Наследование. Полиморфизм

## Под-типизация (Sub typing)

### Родо-видовое определение

Родо-видовое определение - способ идентификации сущности
по группе, к которой относится сущность - `роду`
и отличительному свойству сущности - `видовому признаку`

#### Бытовые примеры

- кроссовки - обувь (род), предназначенная для занятий спортом (видовой признак)
  - определение не строгое, так как кроссовки можно использовать для других задач, например, повседневного ношения

- улыбка - выражение лица (род), выражающая радость/удовольствие (видовой признак)
  - узкое определение
- улыбка - выражение лица (род), характеризующееся изгибом губ вверх, часто связанное с положительной эмоцией, но
  возможное и в иных контекстах (видовой признак)
  - более формальное и более точное

- java - язык программирования (род), обладающий строгой статической типизацией (видовой признак)
- java - язык программирования (род), поддерживающий объектно-ориентированный подход (видовой признак)
- java - язык программирования (род), поддерживающий кросс-платформенность за счет исполнения на виртуальной машине (
  видовой признак)

Из примеров видно, что родо-видовое определение может сместить фокус на определенное свойство или назначение определяемой сущности.
Поэтому применять родо-видовое определение к сложным по структуре и набору функций системам следует с осторожностью
Такое определение дает четкое понимание для простых и стабильных по характеристикам объектов
Преимущество родо-видового определения - отражение в определении иерархической структуры определяемой сущности
В частности, родо-видовое определение подходит для описания классов и наследования

#### Применение в проектировании

Операция - **родовое понятие** - (род) действие, (вид) изменяющее состояния счета/счетов, выполняемое в банковской системе

Виды операций - наследники понятия Операция
- Зачисление - (род) операция, (вид) при которой сумма прибавляется к балансу счета  
- Снятие - (род) операция, (вид) при которой сумма отнимается от баланса счета  
- Перевод - (род) операция, (вид) выполняемая по отношению к двум счетам, при которой   
  - сумма отнимается от баланса первого счета   
  - и прибавляется к балансу второго счета  

##### Достоинства родо-видового определения в данном примере
- наглядность иерархии сущностей
  Операция
  ├── Пополнение
  ├── Снятие
  └── Перевод

- полиморфизм 
  - понятия-наследники получают метод от родителя - класса Операция
    - например, `perform` / `выполнить`
  - каждый наследник имеет метод
    - Пополнение.выполнить()
    - Снятие.выполнить()
    - Перевод.выполнить()
  - класс каждого наследника содержит свою реализацию метода `выполнить`
    - отсюда `многоформенность` / `полиморфизм` - в каждом классе своя форма/реализация метода с наименованием, единым для всех потомков Операции

- расширяемость - например,
  - добавление новой операции, допустим, `Начисление процента на остаток`
    - дополнит список наследников, 
    - наглядно займет место в структуре системы

---

### sub-typing
                    
- интуиция о понятии - под-типирование - иерархия типов
- частный случай родо-видового определения
- отношение между типами, характеризующееся возможность применения частного типа вместо общего
- бытовой пример:
  - родитель/супер-тип: Человек
  - наследник/под-тип: Программист -> Человек
  - наследник/под-тип: Java-разработчик -> Программист -> Человек
- под-тип имеет свойства 
  - поведение под-типа расширяет/дополняет поведение родительского типа
  - поведение под-типа соответствует ожиданиям, заложенным в поведение родительского типа
    - ожидания здесь: имена методов, поведение методов, влияние на состояние системы / памяти, обработка исключений/ошибок
  - это свойство класса/типа в ООП называют Принципом Барбары Лисков, относят к принципам SO**L**ID

### ковариация / сovariance
- способность сохранять порядок наследования при преобразованиях
- применение - передача под-типа/наследника сущностям, ожидающим сущность родительского типа
  - под-тип является корректной заменой
- бытовой пример:
  - под-тип: Java-разработчик -> Программист -> Человек
  - **ковариация** - List<Java-разработчик> есть допустимая замена List<Человек>
    - как частный случай группы `Java-разработчики`, входящей в группу `Люди`

---

### instance of

### pattern matching (switch)

---

> В результате прочтения , того что я скинул должно появиться пара или больше абзацев,
> которые обощат опыт текущей задачи - полиморфизма

> Обощение должно включать что общего между примером js, python и разного по ключевым вопросам.

> Ключевой ... почему так по разному ведут два этих языка (1. Js, python, 2. Java)
> в вопросе полиморфизма и статич. типизации

> Какие примущества и недостатки этих разных подходов дает тебе как программисту и тестировщику.

### лямбды

твоя задача почитать про лямбды

1) что такое лямбды в терминологии математики - Москвин
   https://www.youtube.com/playlist?list=PL-_cKNuVAYAUpQIYYp7dLalEQL1piecP9

лекции 1, 2, 3, 4

прям все понять может будет сложно
мне надо что бы было понятен синтаксис

1) свободные и связанные переменные
2) аппликация и абстракция
3) типизация

пс комбинатор не подвижной точки - рассматривай это как вид рекурсии

1) функциональные интерфейсы
2) стандартные интерфейсы Function, Consumer, Supplier
   BiFunction, BiConsumer
3) лямбды вида Function< Function< Function< A, B>, C>, D> - т.е. вложенность

