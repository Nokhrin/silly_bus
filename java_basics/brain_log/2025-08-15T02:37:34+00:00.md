
---
jdb поддерживает отладку локальной и удаленной JVM
что такое удаленная JVM?
jdb может стартовать экземпляр JVM, может подключиться к существующей активной JVM


```
$ jdb -launch AltCase.class 
Set uncaught java.lang.Throwable
Set deferred uncaught java.lang.Throwable
Initializing jdb ...
> 
VM Started: No frames on the current call stack

main[1] locals
Local variable information not available.  Compile with -g to generate variable information
main[1] stop at AltCase.toAlternativeString
Deferring breakpoint AltCase.toAlternativeString.
It will be set after the class is loaded.
main[1] next
> Error: Could not find or load main class AltCase.class
Caused by: java.lang.ClassNotFoundException: AltCase.class
```

вот здесь я нормально затупил
я ставлю точку останова в метооде, который выполняет основную задачу
ожидаю, что дебаггер остановится именно в этом методе
но дебаггеру нужен main class
что это значит?
например, может быть недоступен файл класса - тоже по разным причинам
  - некорректно указан classpath

  - файл переименован/перемещен
  - опечатка

```
main[1] classpath
base directory: /home/user/projects/silly_bus/java_basics/level_8
classpath: [.]
```

насколько корректен такой classpath?
покуда дебагер инициализируется в этом же каталоге, возможно, не имеет значения
возможно - стоп слово


но здесь не тот случай - не доступна точка входа в программу

но мне нужна точка входа, мне нужен конкретный метод
добавляю останов в main и набллюдаю

```
$ jdb -launch AltCase.class 
Set uncaught java.lang.Throwable
Set deferred uncaught java.lang.Throwable
Initializing jdb ...
> 
VM Started: No frames on the current call stack

main[1] stop
No breakpoints set.
main[1] stop at AltCase.main
Deferring breakpoint AltCase.main.
It will be set after the class is loaded.
main[1] stop
Breakpoints set:
	breakpoint AltCase.main
```

делов-то
дебагер ожидал cont
а я ему run

```
main[1] stop at AltCase.main
Deferring breakpoint AltCase.main.
It will be set after the class is loaded.
main[1] cont
> Set deferred breakpoint AltCase.main

Breakpoint hit: "thread=main", AltCase.main(), line=51 bci=0
51            AltCase ac = new AltCase();

main[1]
```

пошагал

```
main[1] next
> 
Step completed: "thread=main", AltCase.main(), line=55 bci=8
55            ac.testAllLowerToUpper();

main[1] next
> 
Step completed: "thread=main", AltCase.main(), line=56 bci=12
56            ac.testAllUpperToLower();

main[1] step
> 
Step completed: "thread=main", AltCase.testAllUpperToLower(), line=38 bci=0
38            assert this.toAlternativeString("HELLO WORLD").equals("hello world");

main[1] !!
step
> 
Step completed: "thread=main", AltCase.testAllUpperToLower(), line=39 bci=29
39        }

main[1] locals
No local variables
main[1] 

```

### устранение  проблемы

известно

```
$ java -ea AltCase 
Обращение к индексу вне существующего диапазона
java.lang.StringIndexOutOfBoundsException: String index out of range: -32
Exception in thread "main" java.lang.AssertionError
	at AltCase.testAllLowerToUpper(AltCase.java:35)
	at AltCase.main(AltCase.java:55)
```

там и остановлюсь

```
$ jdb -launch AltCase
Set uncaught java.lang.Throwable
Set deferred uncaught java.lang.Throwable
Initializing jdb ...
> 
VM Started: No frames on the current call stack

main[1] stop at AltCase.testAllLowerToUpper
Deferring breakpoint AltCase.testAllLowerToUpper.
It will be set after the class is loaded.
main[1] cont
> Set deferred breakpoint AltCase.testAllLowerToUpper

Breakpoint hit: "thread=main", AltCase.testAllLowerToUpper(), line=35 bci=0
35            assert this.toAlternativeString("hello world").equals("HELLO WORLD");

main[1]
```

на этом шаге мозги начали работать
изправил баг
дебагер выполнил свою задачу

---
